{% extends "base.html" %}
{% block title %}Đăng nhập{% endblock %}
{% block content %}
<div style="min-height:calc(100vh - var(--header-height));display:flex;align-items:center;justify-content:center;padding:40px 20px">
  <div style="width:100%;max-width:420px">
    <div style="text-align:center;margin-bottom:36px">
      <div style="width:64px;height:64px;margin:0 auto 18px;display:flex;align-items:center;justify-content:center;transition:all .4s">
        <img src="/static/images/logo.png" alt="Aimond News Logo" style="width:100%;height:100%;object-fit:contain;" onerror="this.src='/static/images/logo.svg'">
      </div>
      <h1 style="font-family:var(--font-display); font-size:1.8rem; margin-bottom:6px; color:white; text-transform:uppercase;">Đăng Nhập</h1>
      <p style="font-family:var(--font-display); color:var(--color-text-muted); font-size:.88rem; font-weight:600;">Chào mừng trở lại với Aimond News!</p>
    </div>

    <div class="card" style="padding:32px; border:1px solid var(--color-border); background:var(--color-surface-2)">
      <form id="login-form" style="display:flex;flex-direction:column;gap:18px" novalidate>
        <div class="form-group">
          <label class="form-label" style="font-family:var(--font-display); color:white; font-size:.8rem; margin-bottom:8px; display:block;">Username hoặc Email</label>
          <input name="identifier" type="text" class="form-input" required autocomplete="username"
                 style="font-family:var(--font-display); background:var(--color-surface-3); color:white; border-radius:8px; padding:12px">
        </div>

        <div class="form-group">
          <label class="form-label" style="font-family:var(--font-display); color:white; font-size:.8rem; margin-bottom:8px; display:block;">Mật khẩu</label>
          <input name="password" type="password" class="form-input" required autocomplete="current-password"
                 style="font-family:var(--font-display); background:var(--color-surface-3); color:white; border-radius:8px; padding:12px">
        </div>

        <p class="form-error" style="color:var(--color-live); font-family:var(--font-display); font-size:.82rem; display:none"></p>

        <button type="submit" class="btn btn-primary w-full"
                style="justify-content:center; padding:14px; font-family:var(--font-display); font-weight:800; text-transform:uppercase; border-radius:8px;">
          Đăng nhập
        </button>
      </form>

      <p style="text-align:center; margin-top:24px; font-size:.85rem; color:var(--color-text-muted); font-family:var(--font-display);">
        Chưa có tài khoản? <a href="/register" style="color:var(--color-accent); font-weight:700; text-decoration:none;">Đăng ký ngay</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("login-form");
  if (typeof Auth !== 'undefined') Auth.bindLoginForm(form);
});
</script>
{% endblock %}